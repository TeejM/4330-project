<!DOCTYPE html>
<html style="background-color:#d3d3d3"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>Title</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="files/w3.css">
<link rel="stylesheet" href="files/w3-theme-black.css">
<link rel="stylesheet" href="files/font-awesome.css">
</head><body id="vectorGameZ">

<!-- Navbar -->
<div class="w3-top">
 <div class="w3-bar w3-theme-d2 w3-left-align">
  <a href="index.html" class="w3-bar-item w3-button w3-sand w3-hover-white">Title</a>
  <a href="login.html" class="w3-bar-item w3-button w3-hide-small w3-hover-white">Log In</a>
  <a href="register.html" class="w3-bar-item w3-button w3-hide-small w3-hover-white">Register</a>
  <a href="search.html" class="w3-bar-item w3-button w3-hide-small w3-hover-white">Search</a>
  <a href="contactus.html" class="w3-bar-item w3-button w3-hide-small w3-hover-white">Contact Us</a>
 </div>
 </div>

<!-- Page Content -->
<div class="w3-display-container w3-animate-opacity">
</div>
<br><br><br>
<style>
* {
  box-sizing: border-box;
}

#myInput {
  background-image: url('files/searchicon.png');
  background-position: 10px 10px;
  background-repeat: no-repeat;
  width: 100%;
  font-size: 16px;
  padding: 12px 20px 12px 40px;
  border: 1px solid #ddd;
  margin-bottom: 12px;
}

#myTable {
  border-collapse: collapse;
  width: 100%;
  border: 1px solid #ddd;
  font-size: 18px;
}

#myTable th, #myTable td {
  text-align: left;
  padding: 12px;
}

#myTable tr {
  border-bottom: 1px solid #ddd;
}

#myTable tr.header, #myTable tr:hover {
  background-color: #f1f1f1;
}
</style>
</head>
<body>

<h2>Documents</h2>

<input type="text" id="myInput" onkeyup="myFunction()" placeholder="Search for keywords.." title="Type in a name">

<?php
$host    = "104.222.26.249:3306";
$user    = "client";
$pass    = "password";
$db_name = "documents";

//create connection
$connection = mysqli_connect($host, $user, $pass, $db_name);

//test if connection failed
if(mysqli_connect_errno()){
    die("connection failed: "
        . mysqli_connect_error()
        . " (" . mysqli_connect_errno()
        . ")");
}

//get results from database
$result = mysqli_query($connection,"SELECT * FROM documents");
$all_property = array();  //declare an array for saving property

//showing property
echo '<table class="data-table">
        <tr class="data-heading">';  //initialize table tag
while ($property = mysqli_fetch_field($result)) {
    echo '<td>' . $property->name . '</td>';  //get field name for header
    array_push($all_property, $property->name);  //save those to array
}
echo '</tr>'; //end tr tag

//showing all data
while ($row = mysqli_fetch_array($result)) {
    echo "<tr>";
    foreach ($all_property as $item) {
        echo '<td>' . $row[$item] . '</td>'; //get items using property value
    }
    echo '</tr>';
}
echo "</table>";
?>

<script>
function myFunction() {
  var input, filter, table, tr, td, i, txtValue;
  input = document.getElementById("myInput");
  filter = input.value.toUpperCase();
  table = document.getElementById("myTable");
  tr = table.getElementsByTagName("tr");
  for (i = 0; i < tr.length; i++) {
    td = tr[i].getElementsByTagName("td")[0];
    if (td) {
      txtValue = td.textContent || td.innerText;
      if (txtValue.toUpperCase().indexOf(filter) > -1) {
        tr[i].style.display = "";
      } else {
        tr[i].style.display = "none";
      }
    }
  }
}
</script>

<!-- Footer -->
<footer class="w3-container w3-padding-32 w3-theme-d1 w3-center">
  <p>CSC 4330</p>
  <p>Created using assets and stylesheets from W3Schools.</p>
  <div style="position:relative;bottom:100px;z-index:1;" class="w3-tooltip w3-right">
    <span class="w3-text w3-padding w3-sand w3-hide-small">Go to top</span>
    <a class="w3-button w3-theme" href="#vectorGameZ"><span class="w3-xlarge">
    ^</span></a>
  </div>
</footer>
</body></html>
